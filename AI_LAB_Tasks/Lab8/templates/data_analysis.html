<!DOCTYPE html>
<html>
  <head>
    <title>Data Analysis</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
  </head>
  <body class="p-4">
    <h1>Data Analysis and Exploration</h1>

    <h2>1. Load and Inspect Data</h2>
    <h4>First Few Rows</h4>
    {{ first_rows|safe }}
    <h4>Data Info</h4>
    <p>{{ info_str|safe }}</p>
    <h4>Missing Values</h4>
    <ul>
      {% for col, val in missing_values.items() %}
      <li>{{ col }}: {{ val }}</li>
      {% endfor %}
    </ul>

    <h2>2. Descriptive Statistics</h2>
    <p><strong>Number of Records:</strong> {{ num_records }}</p>
    <h4>Mean</h4>
    <ul>
      {% for col, val in means.items() %}
      <li>{{ col }}: {{ "%.2f"|format(val) }}</li>
      {% endfor %}
    </ul>
    <h4>Median</h4>
    <ul>
      {% for col, val in medians.items() %}
      <li>{{ col }}: {{ "%.2f"|format(val) }}</li>
      {% endfor %}
    </ul>
    <h4>Standard Deviation</h4>
    <ul>
      {% for col, val in std_devs.items() %}
      <li>{{ col }}: {{ "%.2f"|format(val) }}</li>
      {% endfor %}
    </ul>

    <h2>3. Visualizations</h2>
    <h4>Histogram of Purchased</h4>
    <img
      src="{{ url_for('static', filename='plots/histogram.png') }}"
      class="img-fluid"
    />
    <h4>Scatter Plot: Age vs Estimated Salary</h4>
    <img
      src="{{ url_for('static', filename='plots/scatter.png') }}"
      class="img-fluid"
    />
  </body>
</html>
